{"version":3,"sources":["./src/app/mi-perfil/mi-perfil-routing.module.ts","./src/app/mi-perfil/mi-perfil.module.ts","./src/app/mi-perfil/mi-perfil.page.ts","./src/app/mi-perfil/mi-perfil.page.scss","./src/app/mi-perfil/mi-perfil.page.html"],"names":[],"mappings":"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","file":"src_app_mi-perfil_mi-perfil_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MiPerfilPage } from './mi-perfil.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MiPerfilPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MiPerfilPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MiPerfilPageRoutingModule } from './mi-perfil-routing.module';\n\nimport { MiPerfilPage } from './mi-perfil.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MiPerfilPageRoutingModule\n  ],\n  declarations: [MiPerfilPage]\n})\nexport class MiPerfilPageModule {}\n","import { Component, OnInit,DoCheck } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { FotosService } from '../services/foto.service';\nimport { UserService } from '../services/user.service';\n\n@Component({\n  selector: 'app-mi-perfil',\n  templateUrl: './mi-perfil.page.html',\n  styleUrls: ['./mi-perfil.page.scss'],\n})\nexport class MiPerfilPage implements OnInit {\n\n  public token;\n  public identity;\n  public likes;\n  public fotos : Array<any> = [];\n  public load_response:any;\n  public seguidores :  Array<any> = [];\n  public siguiendo :  Array<any> = [];\n  public userid;\n  constructor(\n    private _fotoService:FotosService,\n    private _userService:UserService,\n    public alertController:AlertController,\n    private userService: UserService,\n    private router:Router\n  ) {\n\n    this.token = localStorage.getItem('token');\n    \n    \n   }\n\n\n  ngOnInit() {\n    this.get_identity();\n    this.obtener_fotos();\n    this.obtener_seguidores();\n    this.obtener_siguiendo();\n  }\n\n  ngDoCheck()\n  {\n    this.identity = this.userService.get_identity();\n  }\n\n  obtener_fotos()\n  {\n    this._fotoService.obtener_fotos_user(this.token).subscribe(\n      response => {\n        this.fotos = response.data;\n\n      },error =>{\n        console.log(error);\n      }\n    )\n  }\n\n\n\n  obtener_seguidores()\n  {\n    this._userService.obtener_seguidores_user(this.userid,this.token).subscribe(\n      response =>{\n        this.seguidores = response.follows;\n\n\n\n\n      },error =>{\n        console.log(error);\n      }\n    )\n  }\n\n  obtener_siguiendo(){\n    this._userService.obtener_siguiendo_user(this.userid,this.token).subscribe(\n      response =>{\n        this.siguiendo = response.following;\n\n\n\n        \n\n      },error =>{\n        console.log(error);\n      }\n    )\n  }\n\n get_identity()\n  {\n    this.identity =JSON.parse(localStorage.getItem('identity'));\n    this.userid = this.identity._id;\n  }\n\n  async cerrar_sesion(){\n    const alert = await this.alertController.create({\n      header:'Confirmación',\n      message:'Quieres cerrar sesión?',\n      buttons:[\n        {\n          text:'Si,salir',\n          handler:() => { \n            localStorage.clear();\n            this.router.navigate(['/login'])\n          }\n          \n        },\n        {\n          text:'No',\n          handler:()=>{\n            console.log('No se cerro la sesión.')\n          }\n        }\n      ]\n    })\n    \n      await alert.present();\n  }\n\n\n}\n","export default \".image-center {\\n  margin: 0 auto;\\n}\\n\\n:root {\\n  --ion-safe-area-top: 20px;\\n  --ion-safe-area-bottom: 22px;\\n}\\n\\nion-card {\\n  background-color: #242526;\\n}\\n\\nion-icon {\\n  font-size: 24px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pLXBlcmZpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0FBQ0o7O0FBRUU7RUFDSSx5QkFBQTtFQUNBLDRCQUFBO0FBQ047O0FBRUU7RUFDSSx5QkFBQTtBQUNOOztBQUVFO0VBQ0UsZUFBQTtBQUNKIiwiZmlsZSI6Im1pLXBlcmZpbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW1hZ2UtY2VudGVye1xyXG4gICAgbWFyZ2luOjAgYXV0bztcclxuICB9XHJcbiAgXHJcbiAgOnJvb3Qge1xyXG4gICAgICAtLWlvbi1zYWZlLWFyZWEtdG9wOiAyMHB4O1xyXG4gICAgICAtLWlvbi1zYWZlLWFyZWEtYm90dG9tOiAyMnB4O1xyXG4gICAgfVxyXG4gIFxyXG4gIGlvbi1jYXJke1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjQyNTI2O1xyXG4gIH1cclxuICBcclxuICBpb24taWNvbiB7XHJcbiAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgfSJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button class=\\\"text-light\\\" (click)=\\\"cerrar_sesion()\\\" >\\n        <ion-icon  name=\\\"log-out-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-text class=\\\"ms-3 text-light fw-bold\\\">{{identity.username}}</ion-text>\\n    \\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n\\n  <div class=\\\"mt-5\\\">\\n    <ion-avatar class=\\\"image-center mt-2\\\" style=\\\"min-height: 150px; min-width: 150px;\\\">\\n      <img src=\\\"{{identity.profileImg}}\\\">\\n    </ion-avatar>\\n  \\n    <div class=\\\"ion-text-center\\\">\\n      <h4 class=\\\"name mt-3 text-light \\\"> {{identity.name + ' ' + identity.surname}}   </h4>\\n      <p class=\\\"nick text-light\\\"> {{'' + identity.username}} </p>\\n    </div>\\n\\n\\n  \\n    <div class=\\\"ion-text-center mb-3\\\">\\n  \\n      <ion-button color=\\\"tertiary\\\" [routerLink]=\\\"['/tabs/mi-perfil/editprofile']\\\" >Editar perfil</ion-button>\\n    </div>\\n  \\n    <div class=\\\"d-flex justify-content-center align-items-center\\\">\\n      <h2  class=\\\"fs-6 text-center text-light\\\" [routerLink]=\\\"['/fotos']\\\" routerLinkActive=\\\"router-link-active\\\"  >{{fotos.length}} Publicaciones     </h2>\\n      <hr>\\n      <h2  class=\\\"fs-6 text-center ps-2 text-light \\\" style=\\\"cursor: pointer;\\\"> &nbsp; {{seguidores.length}} Seguidores </h2 >\\n  \\n      <h2 class=\\\"fs-6  text-center ps-2 text-light \\\"  style=\\\"cursor: pointer;\\\">&nbsp;{{siguiendo.length}} Seguidos</h2>          \\n    </div>\\n  \\n  </div>\\n   \\n\\n\\n\\n\\n\\n</ion-content>\\n\\n\\n\\n\";"],"sourceRoot":"webpack:///"}