{"version":3,"sources":["./src/app/buscar/buscar-routing.module.ts","./src/app/buscar/buscar.module.ts","./src/app/buscar/buscar.page.ts","./src/app/buscar/buscar.page.scss","./src/app/buscar/buscar.page.html"],"names":[],"mappings":"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","file":"src_app_buscar_buscar_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BuscarPage } from './buscar.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BuscarPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BuscarPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BuscarPageRoutingModule } from './buscar-routing.module';\n\nimport { BuscarPage } from './buscar.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BuscarPageRoutingModule\n  ],\n  declarations: [BuscarPage]\n})\nexport class BuscarPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { FotosService } from '../services/foto.service';\nimport { GLOBALSOCKET } from '../services/GLOBAL';\nimport { UserService } from '../services/user.service';\nimport { io } from \"socket.io-client\";\nimport Swal from 'sweetalert2';\n@Component({\n  selector: 'app-buscar',\n  templateUrl: './buscar.page.html',\n  styleUrls: ['./buscar.page.scss'],\n})\nexport class BuscarPage implements OnInit {\n\n  public load_data = true;\n  public token;\n  public termino;\n  public fotos : Array<any> = [];\n  public usuarios : Array<any> = [];\n  public selected = '1';\n  public likes;\n  public socket = io(GLOBALSOCKET.url,{transports: ['websocket'], upgrade: false});\n\n  constructor(\n    private _userService : UserService,\n    private _activatedRoute : ActivatedRoute,\n    private _fotoService : FotosService\n  ) { \n    this.token = localStorage.getItem('token');\n  }\n\n  ngOnInit() {\n  }\n\n  buscar()\n  {\n   \n      this._userService.buscar_usuarios(this.termino,this.token).subscribe(\n        response => {\n         \n          this.load_data = false;\n          this.usuarios = response;\n          console.log(this.usuarios)\n        },error =>{\n          console.log(error);\n        }\n      )\n\n\n    this._fotoService.buscar_fotos(this.termino,this.token).subscribe(\n      response => {\n        this.fotos = response.data;\n        this.likes = response.user_likes;\n        console.log(this.fotos);\n        this.load_data = false;\n      },error => {\n        console.log(error);\n      }\n    )\n\n  }\n\n  like_imagen(fotoid)\n  {\n    this._fotoService.like_foto(fotoid,this.token).subscribe(\n      response => {\n\n        var search = this.likes.indexOf(fotoid);\n\n        if(search != -1){\n          this.likes.splice(search,1);\n          \n        }else{\n          this.likes.push(fotoid);\n        }\n\n      },error =>{\n        Swal.fire({\n          icon:'error',\n          title:'ERROR!',\n          text:error.error.message\n        })\n      }\n    )\n  }\n \n\n\n  segmentChanged(event: CustomEvent) {\n    this.selected = event.detail.value;\n\n\n  }\n\n\n\n}\n","export default \"ion-segment {\\n  --background: #242526;\\n}\\n\\nion-icon {\\n  color: white;\\n}\\n\\nion-icon {\\n  font-size: 24px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1c2Nhci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBQTtBQUNKOztBQUVBO0VBQ0ksWUFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtBQUNKIiwiZmlsZSI6ImJ1c2Nhci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tc2VnbWVudHtcclxuICAgIC0tYmFja2dyb3VuZDogIzI0MjUyNjtcclxufVxyXG5cclxuaW9uLWljb257XHJcbiAgICBjb2xvcjp3aGl0ZVxyXG59XHJcblxyXG5pb24taWNvbiB7XHJcbiAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgfSJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-searchbar (keyup.enter)=\\\"buscar()\\\" [(ngModel)]=\\\"termino\\\" name=\\\"termino\\\" class=\\\"mt-2 text-light\\\" placeholder=\\\"Buscar...\\\" style=\\\"margin: auto;flex-basis: 50px;width: 90%;--background:#242526\\\"></ion-searchbar>\\n\\n  </ion-toolbar>\\n  <ion-segment  [value]=\\\"selected\\\" (ionChange)=\\\"segmentChanged($event)\\\"  value=\\\"users\\\">\\n    <ion-segment-button value=\\\"1\\\">\\n      <ion-icon name=\\\"person-outline\\\"></ion-icon>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"2\\\">\\n      <ion-icon name=\\\"images-outline\\\"></ion-icon>\\n    </ion-segment-button>\\n  </ion-segment>\\n  \\n</ion-header>\\n\\n<ion-content>\\n\\n \\n    <div *ngIf=\\\"selected == 1\\\">\\n     <ng-container *ngIf=\\\"usuarios.length >= 1\\\">\\n      <div *ngFor=\\\"let item of usuarios\\\"> \\n        <ion-list>\\n          <ion-item [routerLink]=\\\"['/tabs/buscar/perfil',item._id]\\\">\\n            <ion-avatar slot=\\\"start\\\">\\n              <img src=\\\"{{item.profileImg}}\\\">\\n            </ion-avatar>\\n            <ion-label class=\\\"text-light\\\"> {{item.name}} {{item.surname}} </ion-label>\\n            \\n            \\n          </ion-item>\\n  \\n        </ion-list>\\n      </div>\\n     </ng-container>\\n     <ng-container *ngIf=\\\"usuarios.length == 0 && !load_data\\\">\\n      <h1 class=\\\"text-center text-light\\\">SIN RESULTADOS PARA <br> {{termino}} </h1>\\n     </ng-container>\\n  \\n     </div>\\n   \\n     <div *ngIf=\\\"selected == 2\\\">\\n      <ng-container *ngIf=\\\"fotos.length >= 1\\\"  >\\n        <div *ngFor=\\\"let item of fotos\\\"> \\n   \\n         <ion-card style=\\\"background-color: #242526;\\\" >\\n   \\n             <div class=\\\"ms-2 mt-3 mb-2  d-flex justify-content-start\\\">\\n               <ion-avatar [routerLink]=\\\"['/tabs/buscar/perfil',item.user._id]\\\" style=\\\"max-height: 35px; max-width: 35px;\\\">\\n                 <img  src=\\\"{{item.user.profileImg}}\\\">\\n               </ion-avatar>\\n               <ion-label [routerLink]=\\\"['/tabs/buscar/perfil',item.user._id]\\\" class=\\\"mt-2 mb-2 text-light fw-bold\\\"> &nbsp; {{item.user.username}}</ion-label>\\n             </div>\\n   \\n           <img width=\\\"100%\\\" src=\\\"{{item.imagen}}\\\" alt=\\\"\\\">\\n     \\n           <ion-row class=\\\"cardfooter\\\">\\n             <ion-col>\\n                   <div class=\\\"ms-1 mb-1 mt-1 d-flex justify-content-start\\\">\\n                     <ion-icon (click)=\\\"like_imagen(item._id)\\\" *ngIf=\\\"likes.indexOf(item._id) >= 0\\\" color=\\\"danger\\\" class=\\\"text-light\\\" name=\\\"heart\\\"></ion-icon>    \\n                     <ion-icon (click)=\\\"like_imagen(item._id)\\\" *ngIf=\\\"likes.indexOf(item._id)< 0\\\" class=\\\"text-light\\\" name=\\\"heart-outline\\\"></ion-icon>               \\n                     <ion-icon class=\\\"text-light ms-3\\\" [routerLink]=\\\"['/fotos',item._id]\\\" name=\\\"chatbubble-outline\\\"></ion-icon>\\n                     \\n   \\n                   </div>\\n                   <div *ngIf=\\\"item.likes != 0\\\" class=\\\"text-light fw-bold ms-2\\\">\\n                     {{item.likes}} Me gusta\\n                   </div>\\n                   <div class=\\\"ms-2\\\">\\n                    <a class=\\\"text-light fw-bold\\\" [routerLink]=\\\"['/tabs/buscar/perfil',item.user._id]\\\" style=\\\"text-decoration: none;\\\">{{item.user.username}}</a> <ion-text class=\\\"text-light ms-1\\\">{{item.descripcion}}</ion-text>\\n                   </div>\\n                   <div *ngIf=\\\"item.comentarios != 0\\\" class=\\\"ms-2\\\">\\n                     \\n                     <a [routerLink]=\\\"['/tabs/buscar/comentarios',item._id]\\\" style=\\\"text-decoration: none;color: #999999;\\\" >Ver los {{item.comentarios}} comentarios</a>\\n                   </div>\\n             </ion-col>\\n           </ion-row>\\n         </ion-card>\\n        </div>\\n       \\n      </ng-container>\\n       \\n      <ng-container *ngIf=\\\"fotos.length == 0 && !load_data\\\">\\n       <h1 class=\\\"mt-5 text-center text-light\\\">SIN RESULTADOS PARA <br> {{termino}} </h1>\\n     </ng-container>\\n     </div>\\n\\n\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}